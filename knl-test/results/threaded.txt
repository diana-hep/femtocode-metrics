Memory cliff (64 processes)
=============================================================

for x in 128 128 128 160 160 160 192 192 192 224 224 224 256 256 256; do python coordinated_threads.py numa1 64 $x; done
64 numa1 processes, 128.0 MB, 6429.859128635235 MHz
64 numa1 processes, 128.0 MB, 7803.211554865909 MHz
64 numa1 processes, 128.0 MB, 6441.584986761021 MHz
64 numa1 processes, 160.0 MB, 7527.929025961374 MHz
64 numa1 processes, 160.0 MB, 6515.657775234023 MHz
64 numa1 processes, 160.0 MB, 5512.953506332291 MHz
64 numa1 processes, 192.0 MB, 5706.423550276738 MHz
64 numa1 processes, 192.0 MB, 6587.2146759494035 MHz
64 numa1 processes, 192.0 MB, 5508.524082573677 MHz
64 numa1 processes, 224.0 MB, 6452.306183723131 MHz
64 numa1 processes, 224.0 MB, 6407.833732303949 MHz
64 numa1 processes, 224.0 MB, 5607.516675494852 MHz
64 numa1 processes, 256.0 MB, 273.9192784134006 MHz
64 numa1 processes, 256.0 MB, 216.6695342301007 MHz
64 numa1 processes, 256.0 MB, 316.07252301320324 MHz

for x in 243.2 230.4 217.6 204.8 192.0 243.2 230.4 217.6 204.8 192.0 243.2 230.4 217.6 204.8 192.0; do python coordinated_threads.py numa1 64 $x; done
64 numa1 processes, 243.1999969482422 MB, 7459.14798369065 MHz
64 numa1 processes, 230.39999389648438 MB, 6316.531188802924 MHz
64 numa1 processes, 217.5999984741211 MB, 6618.336372605451 MHz
64 numa1 processes, 204.79999542236328 MB, 6509.791324935063 MHz
64 numa1 processes, 192.0 MB, 5665.431114700327 MHz
64 numa1 processes, 243.1999969482422 MB, 6095.523922606234 MHz
64 numa1 processes, 230.39999389648438 MB, 7856.416950951244 MHz
64 numa1 processes, 217.5999984741211 MB, 5549.276943847681 MHz
64 numa1 processes, 204.79999542236328 MB, 7415.9759361707265 MHz
64 numa1 processes, 192.0 MB, 6638.38463509296 MHz
64 numa1 processes, 243.1999969482422 MB, 6187.230236991756 MHz
64 numa1 processes, 230.39999389648438 MB, 5688.033806566541 MHz
64 numa1 processes, 217.5999984741211 MB, 5639.243776262477 MHz
64 numa1 processes, 204.79999542236328 MB, 6512.101630407944 MHz
64 numa1 processes, 192.0 MB, 5625.369106946344 MHz

for x in 254.72 253.44 252.16 250.88 249.6 248.32 247.04 245.76 244.48 243.2 254.72 253.44 252.16 250.88 249.6 248.32 247.04 245.76 244.48 243.2; do python coordinated_threads.py numa1 64 $x; done
64 numa1 processes, 254.7199935913086 MB, 302.4975602268488 MHz
64 numa1 processes, 253.43999481201172 MB, 627.2827222226841 MHz
64 numa1 processes, 252.15999603271484 MB, 508.8992417867838 MHz
64 numa1 processes, 250.87999725341797 MB, 1065.5811573797992 MHz
64 numa1 processes, 249.5999984741211 MB, 1764.605251955814 MHz
64 numa1 processes, 248.31999969482422 MB, 4683.109842871839 MHz
64 numa1 processes, 247.0399932861328 MB, 6919.946073612733 MHz
64 numa1 processes, 245.75999450683594 MB, 6339.515205958885 MHz
64 numa1 processes, 244.47999572753906 MB, 7548.456350697309 MHz
64 numa1 processes, 243.1999969482422 MB, 6286.2431352007425 MHz
64 numa1 processes, 254.7199935913086 MB, 245.43260166597423 MHz
64 numa1 processes, 253.43999481201172 MB, 256.2227785299472 MHz
64 numa1 processes, 252.15999603271484 MB, 560.7491011672022 MHz
64 numa1 processes, 250.87999725341797 MB, 698.8465078162849 MHz
64 numa1 processes, 249.5999984741211 MB, 866.5036111326785 MHz
64 numa1 processes, 248.31999969482422 MB, 5852.0017360632155 MHz
64 numa1 processes, 247.0399932861328 MB, 6148.802380165433 MHz
64 numa1 processes, 245.75999450683594 MB, 5349.674843999925 MHz
64 numa1 processes, 244.47999572753906 MB, 6312.336429045646 MHz
64 numa1 processes, 243.1999969482422 MB, 6244.28825862724 MHz

set nokey
set term svg
set output "threaded_cliff.svg"
set xlabel "size of memory arena per thread (MB)"
set ylabel "rate of 64-bit 3-site passes (MHz)"
plot [120:256][0:11000] "threaded_cliff.dat"

Memory cliff (128 processes)
=============================================================

for x in 127.36 126.72 126.08 125.44 124.8 124.16 123.52 122.88 122.24 121.6 121.6 115.2 108.8 102.4 96 64 80 96 112 128 ; do python coordinated_threads.py numa1 128 $x; done
128 numa1 processes, 127.35999298095703 MB, 259.23053924610525 MHz
128 numa1 processes, 126.7199935913086 MB, 278.807997643664 MHz
128 numa1 processes, 126.07999420166016 MB, 448.8057436823187 MHz
128 numa1 processes, 125.43999481201172 MB, 610.3123058352913 MHz
128 numa1 processes, 124.79999542236328 MB, 1213.156873574935 MHz
128 numa1 processes, 124.15999603271484 MB, 7650.951141025412 MHz
128 numa1 processes, 123.5199966430664 MB, 8699.012382458888 MHz
128 numa1 processes, 122.87999725341797 MB, 8505.050255043796 MHz
128 numa1 processes, 122.23999786376953 MB, 9209.448223728165 MHz
128 numa1 processes, 121.5999984741211 MB, 9339.005147113934 MHz
128 numa1 processes, 121.5999984741211 MB, 8641.362948033358 MHz
128 numa1 processes, 115.19999694824219 MB, 8552.057331882443 MHz
128 numa1 processes, 108.79999542236328 MB, 9444.026699360533 MHz
128 numa1 processes, 102.39999389648438 MB, 7707.640440019869 MHz
128 numa1 processes, 96.0 MB, 8455.590361892568 MHz
128 numa1 processes, 64.0 MB, 8042.3284073764435 MHz
128 numa1 processes, 80.0 MB, 8474.218842081158 MHz
128 numa1 processes, 96.0 MB, 7592.838674875376 MHz
128 numa1 processes, 112.0 MB, 9704.700948855716 MHz
128 numa1 processes, 128.0 MB, 156.02889833044844 MHz
128 numa1 processes, 127.35999298095703 MB, 198.409706334417 MHz
128 numa1 processes, 126.7199935913086 MB, 272.99316313307395 MHz
128 numa1 processes, 126.07999420166016 MB, 613.5346443462105 MHz
128 numa1 processes, 125.43999481201172 MB, 644.2351967557337 MHz
128 numa1 processes, 124.79999542236328 MB, 972.851373838306 MHz
128 numa1 processes, 124.15999603271484 MB, 5913.67746706886 MHz
128 numa1 processes, 123.5199966430664 MB, 8501.86240495194 MHz
128 numa1 processes, 122.87999725341797 MB, 8527.606465778988 MHz
128 numa1 processes, 122.23999786376953 MB, 8592.353950541197 MHz
128 numa1 processes, 121.5999984741211 MB, 8272.49372143897 MHz
128 numa1 processes, 121.5999984741211 MB, 8534.896818399337 MHz
128 numa1 processes, 115.19999694824219 MB, 9615.575270446368 MHz
128 numa1 processes, 108.79999542236328 MB, 8382.552153685172 MHz
128 numa1 processes, 102.39999389648438 MB, 9443.330682528302 MHz
128 numa1 processes, 96.0 MB, 8434.373704008998 MHz
128 numa1 processes, 64.0 MB, 8742.420658233812 MHz
128 numa1 processes, 80.0 MB, 9174.835111001275 MHz
128 numa1 processes, 96.0 MB, 6872.578974341966 MHz
128 numa1 processes, 112.0 MB, 9857.935618217196 MHz
128 numa1 processes, 128.0 MB, 149.7258642223274 MHz
128 numa1 processes, 127.35999298095703 MB, 305.0973600197933 MHz
128 numa1 processes, 126.7199935913086 MB, 254.14785188372412 MHz
128 numa1 processes, 126.07999420166016 MB, 478.4992902511904 MHz
128 numa1 processes, 125.43999481201172 MB, 862.9459103328572 MHz
128 numa1 processes, 124.79999542236328 MB, 916.7886014014933 MHz
128 numa1 processes, 124.15999603271484 MB, 6366.614679900017 MHz
128 numa1 processes, 123.5199966430664 MB, 9711.185488685378 MHz
128 numa1 processes, 122.87999725341797 MB, 9378.34714154088 MHz
128 numa1 processes, 122.23999786376953 MB, 8485.58695717527 MHz
128 numa1 processes, 121.5999984741211 MB, 8472.021540972315 MHz
128 numa1 processes, 121.5999984741211 MB, 8637.453400966318 MHz
128 numa1 processes, 115.19999694824219 MB, 8336.169521298762 MHz
128 numa1 processes, 108.79999542236328 MB, 9886.55241462183 MHz
128 numa1 processes, 102.39999389648438 MB, 8621.685441889396 MHz
128 numa1 processes, 96.0 MB, 7716.4712773548645 MHz
128 numa1 processes, 64.0 MB, 7429.532837418409 MHz
128 numa1 processes, 80.0 MB, 8430.572842277212 MHz
128 numa1 processes, 96.0 MB, 7470.036134984964 MHz
128 numa1 processes, 112.0 MB, 8590.5420133181 MHz
128 numa1 processes, 128.0 MB, 198.5960750800268 MHz

set nokey
set term svg
set output "threaded_cliff_128.svg"
set xlabel "size of memory arena per thread (MB)"
set ylabel "rate of 64-bit 3-site passes (MHz)"
plot [60:128][0:11000] "threaded_cliff_128.dat"

Processor scaling
=============================================================

for x in 128 120 112 104 96 88 80 72 64 56 48 40 32 24 16 8  128 120 112 104 96 88 80 72 64 56 48 40 32 24 16 8  128 120 112 104 96 88 80 72 64 56 48 40 32 24 16 8; do python coordinated_threads.py numa1 $x 120; done
128 numa1 processes, 120.0 MB, 6877.4314849354 MHz
120 numa1 processes, 120.0 MB, 8028.056851300895 MHz
112 numa1 processes, 120.0 MB, 8337.133806177906 MHz
104 numa1 processes, 120.0 MB, 6517.71904410899 MHz
96 numa1 processes, 120.0 MB, 6923.10927082207 MHz
88 numa1 processes, 120.0 MB, 7199.354690311673 MHz
80 numa1 processes, 120.0 MB, 6744.5468716191845 MHz
72 numa1 processes, 120.0 MB, 6331.031892733474 MHz
64 numa1 processes, 120.0 MB, 5489.204256152667 MHz
56 numa1 processes, 120.0 MB, 5383.467089910259 MHz
48 numa1 processes, 120.0 MB, 4885.736674505955 MHz
40 numa1 processes, 120.0 MB, 4335.981275131764 MHz
32 numa1 processes, 120.0 MB, 4542.744273061698 MHz
24 numa1 processes, 120.0 MB, 3608.3821478895943 MHz
16 numa1 processes, 120.0 MB, 2545.5635493416216 MHz
8 numa1 processes, 120.0 MB, 1925.9668919825576 MHz
128 numa1 processes, 120.0 MB, 7521.6001806054255 MHz
120 numa1 processes, 120.0 MB, 8060.531872982903 MHz
112 numa1 processes, 120.0 MB, 6826.671451390304 MHz
104 numa1 processes, 120.0 MB, 6455.986594981515 MHz
96 numa1 processes, 120.0 MB, 7779.787027081114 MHz
88 numa1 processes, 120.0 MB, 6544.550492651391 MHz
80 numa1 processes, 120.0 MB, 6651.821742899524 MHz
72 numa1 processes, 120.0 MB, 6401.45982531875 MHz
64 numa1 processes, 120.0 MB, 6613.485678137702 MHz
56 numa1 processes, 120.0 MB, 4949.486476149197 MHz
48 numa1 processes, 120.0 MB, 3883.42191173123 MHz
40 numa1 processes, 120.0 MB, 3755.172281950859 MHz
32 numa1 processes, 120.0 MB, 3041.0146365286955 MHz
24 numa1 processes, 120.0 MB, 3554.73819533395 MHz
16 numa1 processes, 120.0 MB, 2547.7256943523257 MHz
8 numa1 processes, 120.0 MB, 1862.979087710737 MHz
128 numa1 processes, 120.0 MB, 7016.271137570922 MHz
120 numa1 processes, 120.0 MB, 8012.891626885233 MHz
112 numa1 processes, 120.0 MB, 6296.6122939161105 MHz
104 numa1 processes, 120.0 MB, 7168.08118127184 MHz
96 numa1 processes, 120.0 MB, 6976.421400854198 MHz
88 numa1 processes, 120.0 MB, 7293.2521204891955 MHz
80 numa1 processes, 120.0 MB, 5298.892715550182 MHz
72 numa1 processes, 120.0 MB, 7059.35139260044 MHz
64 numa1 processes, 120.0 MB, 4962.099179420707 MHz
56 numa1 processes, 120.0 MB, 4902.677338611043 MHz
48 numa1 processes, 120.0 MB, 5912.42565667695 MHz
40 numa1 processes, 120.0 MB, 5354.000650196208 MHz
32 numa1 processes, 120.0 MB, 4597.987106696767 MHz
24 numa1 processes, 120.0 MB, 3501.1346016816888 MHz
16 numa1 processes, 120.0 MB, 2903.226165134259 MHz
8 numa1 processes, 120.0 MB, 1301.222216138476 MHz

set nokey
set term svg
set output "threaded_scaling.svg"
set xlabel "number of processes"
set ylabel "rate of 64-bit 3-site passes (MHz)"
plot [0:130][0:11000]"threaded_scaling.dat"
